<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Train Details</title>
</head>



<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>


<body>

<table id="example2" class="table table-striped table-bordered" style="width:100%">
    <thead>
    <tr>
        <th>Train No and Name</th>
        <th>Seats</th>
        <th>Start-Destination</th>
        <th>Train Date and Time</th>
        <th>Station</th>
        <th>Add</th>

    </tr>
    </thead>

    <tfoot>
    <tr>
        <th>Train No and Name</th>
        <th>Seats</th>
        <th>Start-Destination</th>
        <th>Train Date and Time</th>
        <th>Station</th>
        <th>Add</th>
    </tr>
    </tfoot>
</table>



<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
<script src="validation.js"></script>
<script>
    $.ajax({

        type: "GET",
        url: 'http://localhost:8080/train/',
        dataType: 'json',

        success: function (obj, textstatus) {


            $('#example2').DataTable({
                data: obj,
                columns: [
                    {
                        data: null,
                        render: function ( data, type, row ) {
                            // Combine the first and last names into a single table field
                            return data.trainNo+' '+data.trainName;
                        },
                        editField: ['trainNo', 'trainName']
                    },

                    { data: 'seats' },

                    {
                        data: null,
                        render: function ( data, type, row ) {
                            // Combine the first and last names into a single table field
                            return data.start+' '+data.destination;
                        },
                        editField: ['start', 'destination']
                    },
                    { data: 'trainDate' },
                    { data: 'startTime' },
                    {   data: null,
                        render : function(data, type, full) {
                            return '<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Select' + '</a>';
                        }
                    }
                ]
            });

        },
        error: function (obj, textstatus) {
            alert(obj.msg);
        }
    });

</script>

</body>
</html>